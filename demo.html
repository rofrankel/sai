<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">

  <head>
    <script type="text/javascript" charset="utf-8" src="js/raphael-min.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/sai-min.js"></script>
    <script type="text/javascript" charset="utf-8" src="data/us.svg.json"></script>
    <script type="text/javascript" charset="utf-8" src="data/europe.svg.json"></script>
  </head>
  <body>
    <div id="c1" style="width: 400px; height: 400px; float: left;"></div>
    <div id="c2" style="width: 400px; height: 400px; float: left;"></div>
    <div id="c3" style="width: 400px; height: 400px; float: left;"></div>
    <div id="c4" style="width: 400px; height: 400px; float: left;"></div>
    <div id="c5" style="width: 400px; height: 400px; float: left;"></div>
    <div id="c6" style="width: 400px; height: 400px; float: left;"></div>
    <div id="c7" style="width: 400px; height: 400px; float: left;"></div>
    <script type="text/javascript">
      
      Sai.imagePath = 'images/';
      
      var orange = '#AA5128';
      var olive = '#615C3E';
      var gold = '#CABC5C';
      var lilac = '#B3A4B7';
      var tea = '#E7ECE6';
      var ucla = '#536895';
      
      shipping_data = {
        'Date': ['8/19/2010','8/18/2010','8/17/2010','8/16/2010','8/13/2010','8/12/2010','8/11/2010','8/10/2010','8/9/2010','8/6/2010','8/5/2010','8/4/2010','8/3/2010','8/2/2010','7/30/2010','7/29/2010','7/28/2010','7/27/2010','7/26/2010','7/23/2010','7/22/2010','7/21/2010','7/20/2010','7/19/2010','7/16/2010','7/15/2010','7/14/2010','7/13/2010','7/12/2010','7/9/2010','7/8/2010','7/7/2010','7/6/2010','7/5/2010','7/2/2010','7/1/2010','6/30/2010','6/29/2010','6/28/2010','6/25/2010','6/24/2010','6/23/2010','6/22/2010','6/21/2010','6/18/2010','6/17/2010','6/16/2010','6/15/2010','6/14/2010','6/11/2010','6/10/2010','6/9/2010','6/8/2010','6/7/2010','6/4/2010','6/3/2010','6/2/2010','6/1/2010','5/31/2010','5/28/2010','5/27/2010','5/26/2010','5/25/2010','5/24/2010','5/21/2010','5/20/2010','5/19/2010','5/18/2010','5/17/2010','5/14/2010','5/13/2010','5/12/2010','5/11/2010','5/10/2010','5/7/2010','5/6/2010','5/5/2010','5/4/2010','5/3/2010','4/30/2010','4/29/2010','4/28/2010','4/27/2010','4/26/2010','4/23/2010','4/22/2010','4/21/2010','4/20/2010','4/19/2010','4/16/2010','4/15/2010','4/14/2010','4/13/2010','4/12/2010','4/9/2010','4/8/2010','4/7/2010','4/6/2010','4/5/2010','4/2/2010','4/1/2010','3/31/2010','3/30/2010','3/29/2010','3/26/2010','3/25/2010','3/24/2010','3/23/2010','3/22/2010','3/19/2010','3/18/2010','3/17/2010','3/16/2010','3/15/2010','3/12/2010','3/11/2010','3/10/2010','3/9/2010','3/8/2010','3/5/2010','3/4/2010','3/3/2010','3/2/2010','3/1/2010','2/26/2010','2/25/2010','2/24/2010','2/23/2010','2/22/2010','2/19/2010','2/18/2010','2/17/2010','2/16/2010','2/15/2010','2/12/2010','2/11/2010','2/10/2010','2/9/2010','2/8/2010','2/5/2010','2/4/2010','2/3/2010','2/2/2010','2/1/2010','1/29/2010','1/28/2010','1/27/2010','1/26/2010','1/25/2010','1/22/2010','1/21/2010','1/20/2010','1/19/2010','1/18/2010','1/15/2010','1/14/2010','1/13/2010','1/12/2010','1/11/2010','1/8/2010','1/7/2010','1/6/2010','1/5/2010','1/4/2010','1/1/2010','12/31/2009','12/30/2009','12/29/2009','12/28/2009','12/25/2009','12/24/2009','12/23/2009','12/22/2009','12/21/2009','12/18/2009','12/17/2009','12/16/2009','12/15/2009','12/14/2009','12/11/2009','12/10/2009','12/9/2009','12/8/2009','12/7/2009','12/4/2009','12/3/2009','12/2/2009','12/1/2009','11/30/2009','11/27/2009','11/26/2009','11/25/2009','11/24/2009','11/23/2009','11/20/2009','11/19/2009','11/18/2009','11/17/2009','11/16/2009','11/13/2009','11/12/2009','11/11/2009','11/10/2009','11/9/2009','11/6/2009','11/5/2009','11/4/2009','11/3/2009','11/2/2009','10/30/2009','10/29/2009','10/28/2009','10/27/2009','10/26/2009','10/23/2009','10/22/2009','10/21/2009','10/20/2009','10/19/2009','10/16/2009','10/15/2009','10/14/2009','10/13/2009','10/12/2009','10/9/2009','10/8/2009','10/7/2009','10/6/2009','10/5/2009','10/2/2009','10/1/2009','9/30/2009','9/29/2009','9/28/2009','9/25/2009','9/24/2009','9/23/2009','9/22/2009','9/21/2009','9/18/2009','9/17/2009','9/16/2009','9/15/2009','9/14/2009','9/11/2009','9/10/2009','9/9/2009','9/8/2009','9/7/2009','9/4/2009','9/3/2009','9/2/2009','9/1/2009','8/31/2009','8/28/2009','8/27/2009','8/26/2009','8/25/2009','8/24/2009','8/21/2009','8/20/2009','8/19/2009','8/18/2009','8/17/2009','8/14/2009','8/13/2009','8/12/2009','8/11/2009','8/10/2009','8/7/2009','8/6/2009','8/5/2009','8/4/2009','8/3/2009'],
        'Track.com Shipping Index': [1633.699,1661.798,1651.697,1590.603,1577.975,1596.911,1604.888,1683.788,1707.709,1700.001,1691.703,1679.445,1692.902,1713.265,1673.063,1691.741,1665.648,1672.063,1688.14,1654.079,1636.599,1583.984,1579.606,1554.257,1567.939,1587.269,1579.302,1570.487,1550.923,1570.188,1554.72,1536.757,1510.377,1482.472,1487.301,1480.945,1511.565,1537.783,1639.865,1651.783,1627.782,1653.174,1647.026,1679.445,1671.145,1660.417,1680.315,1694.107,1652.85,1641.307,1622.43,1557.546,1544.753,1564.493,1623.586,1690.384,1686.901,1642.691,1686.903,1686.489,1722.024,1641.533,1605.06,1635.547,1665.983,1621.981,1695.864,1714.394,1731.384,1762.078,1820.947,1817.649,1778.638,1798.926,1665.974,1720.122,1826.879,1897.894,1985.298,1950.627,1951.078,1945.083,1962.906,1993.143,1980.986,1951.441,1964.147,1948.419,1911.716,1936.733,1970.687,1950.855,1909.174,1918.583,1903.683,1852.472,1865.445,1882.328,1862.345,1840.781,1846.7,1825.462,1826.086,1816.171,1784.002,1787.815,1794.24,1815.841,1805.814,1805.684,1835.127,1859.351,1868.815,1870.52,1901.94,1877.321,1881.435,1852.151,1902.663,1896.642,1875.847,1872.315,1814.348,1796.687,1791.845,1775.723,1758.288,1748.919,1803.15,1796.291,1792.93,1800.053,1783.263,1697.941,1701.751,1714.473,1688.627,1717.152,1683.484,1703.442,1726.833,1821.467,1832.07,1816.877,1792.436,1815.831,1850.564,1859.107,1895.616,1858.115,1883.933,1943.759,2008.759,2021.3,2028.001,2049.26,2013.854,2000.269,2046.882,1994.197,1905.12,1895.837,1896.931,1852.378,1754.049,1753.992,1766.511,1776.53,1770.629,1768.894,1769.278,1770.014,1730.879,1751.442,1753.008,1760.849,1796.362,1801.539,1793.718,1773.952,1779.713,1791.403,1803.668,1861.07,1897.699,1906.894,1904.312,1901.229,1818.546,1816.983,1861.911,1885.853,1905.88,1922.628,1917.824,1917.322,2033.964,1962.553,1964.036,1840.631,1817.903,1808.174,1713.65,1731.36,1664.841,1672.041,1624.387,1622.933,1611.058,1616.845,1670.844,1611.491,1705.201,1756.366,1810.586,1848.175,1844.923,1848.43,1815.552,1800.551,1822.932,1807.05,1778.524,1779.75,1802.065,1812.848,1743.142,1694.215,1624.649,1607.75,1630.49,1682.939,1676.86,1645.616,1641.971,1653.012,1706.986,1748.2,1726.532,1764.41,1784.775,1768.825,1717.451,1701.741,1687.712,1685.329,1657.398,1608.542,1590.569,1578.67,1544.289,1525.884,1547.31,1596.598,1653.396,1663.02,1636.644,1632.073,1654.426,1636.519,1618.103,1589.397,1620.421,1613.884,1682.427,1692.185,1653.947,1638.747,1684.236,1691.238,1702.947,1771.662,1775.004,1784.529],
        'Baltic Dry Index': [,2558,2515,2488,2468,2437,2378,2212,2114,2030,1978,1957,1964,1977,1967,1942,1901,1869,1841,1826,1801,1781,1761,1732,1720,1700,1709,1790,1840,1902,1940,2018,2127,2216,2280,2351,2406,2447,2482,2501,2502,2515,2547,2601,2694,2784,2893,3020,3115,3288,3423,3514,3579,3733,3844,3933,4041,4074,,4078,4156,4209,4187,3943,3844,3803,3832,3882,3922,3929,3914,3888,3822,3707,3608,3468,3379,3352,,3354,3359,3329,3203,3020,3013,3006,3009,2998,3002,3009,3001,2966,2928,2911,2913,2922,2947,2981,,,2991,2998,2982,3021,3098,3177,3243,3280,3337,3379,3396,3427,3498,3574,3506,3316,3230,3210,3259,3242,3121,2911,2792,2760,2738,2711,2707,2724,2721,2714,2704,2661,2598,2566,2571,2575,2630,2706,2722,2715,2685,2673,2691,2745,2848,2963,3118,3205,3223,3204,3170,3158,3208,3295,3299,3235,3175,3160,3148,3140,3149,3259,3270,3140,,,,,,,3005,3023,3063,3154,3258,3376,3474,3518,3530,3579,3671,3791,3902,4036,4107,4062,3918,3836,3887,3974,4119,4234,4340,4423,4507,4661,4643,4381,4220,4111,3954,3748,3615,3480,3393,3335,3295,3247,3185,3103,3013,2986,3013,3044,3043,3001,2917,2832,2766,2728,2688,2597,2646,2696,2695,2647,2546,2441,2362,2357,2284,2220,2185,2192,2183,2163,2175,2246,2318,2356,2390,2415,2431,2450,2468,2492,2491,2462,2429,2415,2414,2413,2423,,2421,2425,2427,2388,2437,2468,2534,2614,2704,2774,2752,2685,2612,2623,2689,2772,2907,3051,3159,3251]
      };
      
      var shipping_colors = {
        'Track.com Shipping Index': '#087812',
        'Baltic Dry Index': '#444444',
      };
      
      var badData = {
        "date": ["5/10/2010", "5/11/2010", "12-May"],
        "MSFT": [30.0, 28.0, 21.0],
        "AAPL": [5.0, 6.0, 11.0]
      };      
      
      var colors = {
        'AAPL': orange,
        'AMZN': olive,
        'GOOG': gold,
        'MSFT': lilac,
        'Month': 'red'
      }
      
      var data = {
        'AAPL': [1, 2, 3, null, 4, 7, 5, 1, -4, -2, -1, null],
        'AMZN': [4, 5, 12, 1, -3, "hello", -6, 6, 10, 6, 4, 2],
        'GOOG': [7, 4, 1, 11, 2, 2, 3, null, 2.5, 2, 6, -1],
        'MSFT': [5, 2, null, 1, 5, 6, 3, 8, 3, 4, 7, 1],
        'Month': ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'],
      };
      
      var data2 = {
        'AAPL': [1, 2, 3, null, 4, 7, 5, 1, -4, -2, -1, null, 6, 3, 6, 1, 2, 8, 2, 3, 12, 2, 4, 7, 3, 12, 4],
        'AMZN': [4, 5, 12, 1, -3, "hello", -6, 6, 10, 4, 6, 4, 2, 6, 3, 2, 8, 3, 12, 2, 1, 11, 8, 7, 6, 5, 2],
        'GOOG': [7, 4, 1, 11, 2, 2, 3, null, 2.5, 2, 6, 6, 3, -1, 6, 1, 12, -3, 2, 3, 12, 2, 4, 6, 8, 7, 5],
        'MSFT': [5, 2, null, 1, 5, 6, 3, 8, 3, 4, 7, 3, 6, 1, 2, 8, 2, 3, 12, 27, 14, 10, 1, 3, 5, 7, 9],
        'Month': ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC', 'UND', 'DOD', 'TRED', 'QUTD', 'QND', 'SED', 'STD', 'OTD', 'NVD', 'VNE', 'VNU', 'VND', 'VNT', 'VNQT', 'VNQN'],
      };
      
      var csdata = {
        'open': [2, 6, 4, 6, 3, 6, 2, 6, 4, 6, 3, 6, 2, 6, 4, 6, 3, 6],
        'close': [4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7],
        'high': [5, 8, 6, 6, 5, 7, 5, 8, 6, 6, 5, 7, 5, 8, 6, 6, 5, 7],
        'low': [1, 3, 2, 1, 3, 4, 1, 3, 2, 1, 3, 4, 1, 3, 2, 1, 3, 4],
        'price': [4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7],
        'time': ['t1', 't2', 't3', 't4', 't5', 't6', 't1', 't2', 't3', 't4', 't5', 't6', 't1', 't2', 't3', 't4', 't5', 't6'],
      };
      
      var msft_data = {
        'open': [26.78, 26.16, 25.78, 25.46, 25.05, 24.51, 24.13, 23.30, 23.09, 23.36, 23.27, 23.70, 23.82, 24.34, 24.21, 23.75, 23.9, 24.58, 26.78, 26.16, 25.78, 25.46, 25.05, 24.51, 24.13, 23.30, 23.09, 23.36, 23.27, 23.70, 23.82, 24.34, 24.21, 23.75, 23.9, 24.58],
        'close': [25.95, 25.77, 25.31, 25.00, 24.53, 24.31, 23.31, 23.01, 23.16, 23.27, 23.27, 23.82, 24.30, 23.55, 23.75, 23.81, 24.3, 24.21, 25.95, 25.77, 25.31, 25.00, 24.53, 24.31, 23.31, 23.01, 23.16, 23.27, 23.27, 23.82, 24.30, 23.55, 23.75, 23.81, 24.3, 24.21],
        'high': [26.89, 26.45, 25.78, 25.72, 25.11, 24.61, 25.20, 23.68, 23.32, 23.48, 23.27, 24.09, 24.32, 24.55, 24.35, 23.99, 24.65, 24.58, 26.89, 26.45, 25.78, 25.72, 25.11, 24.61, 25.20, 23.68, 23.32, 23.48, 23.27, 24.09, 24.32, 24.55, 24.35, 23.99, 24.65, 24.58],
        'low': [25.89, 25.76, 25.22, 24.93, 24.31, 24.12, 23.11, 22.95, 22.73, 23.05, 23.27, 23.58, 23.61, 23.55, 23.45, 23.7, 23.91, 24.01, 25.89, 25.76, 25.22, 24.93, 24.31, 24.12, 23.11, 22.95, 22.73, 23.05, 23.27, 23.58, 23.61, 23.55, 23.45, 23.7, 23.91, 24.01],
        'volume': [54625218, 55986386, 61468282, 85252196, 156256672, 73787879, 119885791, 81057995, 92239399, 62489452, 0, 73594554, 81967278, 54625218, 55986386, 61468282, 85252196, 56256672, 54625218, 55986386, 61468282, 85252196, 156256672, 73787879, 119885791, 81057995, 92239399, 62489452, 0, 73594554, 81967278, 54625218, 55986386, 61468282, 85252196, 56256672],
        '7 day avg': [26.88, 26.77, 26.60, 26.52, 26.3, 26.20, 25.76, 25.11, 24.76, 24.42, 23.81, 23.51, 23.3, 23.16, 23.21, 23.29, 23.3, 23.35, 26.88, 26.77, 26.60, 26.52, 26.3, 26.20, 25.76, 25.11, 24.76, 24.42, 23.81, 23.51, 23.3, 23.16, 23.21, 23.29, 23.3, 23.35],
        'date': ['Jun 21', '', '', '', '', 'Jun 28', '', '', '', '', 'Jul 5', '', '', '', '', 'Jul 12', '', '', '', '', 'Jul 19', '', '', '', '', 'Jul 26', '', '', '', '', 'Aug 2', '', '', '', '', 'Aug 9'],
      };
      
      var bardata = {
        'AAPL': [100000, 200000, 300000, 400000],
        'AMZN': [200000, null, 400000, 400000],
        'GOOG': [300000, 500000, 100000, 150000],
        'MSFT': [500000, 100000, 400000, 350000],
        'Quarter': ['Q1', 'Q2', 'Q3', 'Q4'],
      };
      
      var getRandomData = function (min, max, n, ints) {
        var result = [];
        for(i = 0; i < n; i++) {
          var x = Math.random() * (max-min) + min;
          if(ints) {
            x = Math.round(x);
          }
          result.push(x);
        }
        
        return result;
      }
      
      var states = [];
      for(state in Sai.data.map.us.paths) {
        states.push(state);
      }
      
      var USdata = {
        '__MAP__': Sai.data.map.us,
        'states': states, // parallel to data arrays
        '__DEFAULT__': 'Unemployment',
        'Confidence': [null, null, 1, 2, 3, null, 4, 5, 9, 1, 53, null, null, null, 1, 24, null, null, null, null, 54, 12, 34, null, null, null, null, 54, 12, 34, 34, null], // getRandomData(38.4, 38.7, states.length),
        'Unemployment': getRandomData(0, 1, states.length),
        'Dropped calls': getRandomData(50, 150, states.length, true),
        'Oatmeal Index': getRandomData(14, 31, states.length, true),
        'Math sightings': getRandomData(0, 10000000, states.length, true),
      }
      
      var UScolors = {
        'Confidence': orange,
        'Unemployment': lilac,
        'Dropped calls': olive,
        'Oatmeal Index': ucla,
        'Math sightings': 'green',
      }
      
      var repubs = getRandomData(44, 56, states.length);
      var dems = getRandomData(44, 56, states.length);
      var greens = getRandomData(0, 0.5, states.length);
      
      realData_repub = {
        'HI': 27,
        'AK': 60,
        'FL': 48,
        'NH': 45,
        'MI': 41,
        'VT': 31,
        'ME': 40,
        'RI': 35,
        'NY': 36,
        'PA': 44,
        'NJ': 42,
        'DE': 37,
        'MD': 37,
        'VA': 47,
        'WV': 56,
        'OH': 47,
        'IN': 49,
        'IL': 37,
        'CT': 38,
        'WI': 43,
        'NC': 49,
        'MA': 36,
        'TN': 57,
        'AR': 59,
        'MO': 50.5,
        'GA': 52,
        'SC': 54,
        'KY': 58,
        'AL': 61,
        'LA': 59,
        'MS': 56,
        'IA': 45,
        'MN': 44,
        'OK': 66,
        'TX': 55,
        'NM': 42,
        'KS': 57,
        'NE': 57,
        'SD': 53,
        'ND': 53,
        'WY': 65,
        'MT': 50.5,
        'CO': 45,
        'ID': 61,
        'UT': 63,
        'AZ': 54,
        'NV': 43,
        'OR': 41,
        'WA': 41,
        'CA': 37,
        'DC': 23,
      };
      
      for(i = 0; i < states.length; i++) {
        repubs[i] = realData_repub[states[i]];
        dems[i] = 100 - repubs[i];
      }
      
      var USChromaticData = {
        '__MAP__': Sai.data.map.us,
        'Republican': repubs,
        'Democrat': dems,
        'Green Party': greens,
        states: states
      };
      
      var USChromaticColors = {
        'Republican': '#c00',
        'Democrat': '#00c',
        'Green Party': '#0f0',
      };
      
      var badMapData = {
        "Unemployment Rate": [20, 23, 25, 30, 34, 23, 10, 15, 27, 23, 20],
        "state": ["MA", "ES", "TN", "PT", "PL", "GR", "DE", "NO", "GB", "CZ", "SK"],
        "Education": [56, 53, 34, 40, 54, 60, 70, 23, 80, 83, 67],
        "Temperature": [80, 64, 82, 90, 91, 60, 85, 75, 93, 84, 81],
        '__MAP__': Sai.data.map.us,
        '__DEFAULT__': 'Education',
      };
      
      var badMapColors = {
        "Unemployment Rate": olive,
        "Education": orange,
        "Temperature": ucla,
      }
      
      var badSmallData =  {MSFT: [1], "GOOG": ["alert('hi')"], "junk": [null], "AAPL": [2]};
      
      var r1 = Raphael("c1", 350, 350);
      var chart = new Sai.LineChart(r1, 0, 350, 350, 350, badData, "date", {bgcolor: tea, title: "Monthly average adjusted close", interactive: true, groups: {left: ['AAPL', 'abc'], right: ['date', 'MSFT']}}).setColors(colors).render();
      
      var r2 = Raphael("c2", 350, 350);
      var stackedchart = new Sai.LineChart(r2, 0, 350, 350, 350, data2, "Month", {bgcolor: tea, title: "Monthly average adjusted close", interactive: true, stacked: true, area: true, lineWidth: 1}).setColors(colors).render();
      
      var r3 = Raphael("c3", 350, 350);
      var stockchart = new Sai.StockChart(r3, 0, 350, 350, 350, msft_data, "date", {bgcolor: tea, title: "MSFT (NASDAQ)"}).setColors({'7 day avg': olive}).render();
      
      var r4 = Raphael("c4", 350, 350);
      var barc = new Sai.BarChart(r4, 0, 350, 350, 350, data, "Month", {bgcolor: tea, title: "Some titled bar chart", interactive: true}).setColors(colors).render(true);
      
      var r5 = Raphael("c5", 350, 350);
      var sbarc = new Sai.BarChart(r5, 0, 350, 350, 350, data, "Month", {bgcolor: tea, interactive: true, stacked: true, title: "stacked bar chart"}).setColors(colors).render(true);
      
      var r6 = Raphael("c6", 400, 350);
      var uschart = new Sai.GeoChart(r6, 0, 350, 400, 350, USdata, "states", {bgcolor: tea, title: "MAP OF US", interactive: true, fromWhite: true}).setColors(UScolors).render();
      
      var r7 = Raphael("c7", 400, 350);
      var uschromaticchart = new Sai.ChromaticGeoChart(r7, 0, 350, 400, 350, USChromaticData, "states", {bgcolor: tea, title: "2008 Election", interactive: true, groupedNormalization: true}).setColors(USChromaticColors).render();
      
    </script>
  </body>
</html>