<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">

  <head>
    <script type="text/javascript" charset="utf-8" src="lib/raphael-min.js"></script>
    <script type="text/javascript" charset="utf-8" src="src/sai.js"></script>
    <script type="text/javascript" charset="utf-8" src="src/sai.prim.js"></script>
    <script type="text/javascript" charset="utf-8" src="src/sai.chart.js"></script>
    <script type="text/javascript" charset="utf-8" src="src/sai.plot.js"></script>
    <script type="text/javascript" charset="utf-8" src="data/us.svg.json"></script>
    <script type="text/javascript" charset="utf-8" src="data/europe.svg.json"></script>
  </head>
  <body>
    <div id="abc">
      <script type="text/javascript">
        
        var orange = '#A8502C';
        var olive = '#615C3E';
        var lilac = '#B3A4B7';
        var tea = '#E7ECE6';
        var ucla = '#536895';
        
        var colors = {
          'AAPL': orange,
          'AMZN': olive,
          'GOOG': lilac,
          'MSFT': ucla,
        }
        
        var r = Raphael("abc", 1800, 850);
        
        var data = {'AAPL': [1, 2, 3, 5, 4, 7, 5, 1, -4, -2, -1, 1],
                    'AMZN': [4, 5, 19, 1, -3, 2, -6, 6, 10, 11, 4, 2],
                    'GOOG': [7, 4, 1, 11, 2, 2, 3, 2, 2.5, 1, 0, -1],
                    '__LABELS__': ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC']};
        
        var csdata = {
          'open': [2, 6, 4, 6, 3, 6, 2, 6, 4, 6, 3, 6, 2, 6, 4, 6, 3, 6],
          'close': [4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7],
          'high': [5, 8, 6, 6, 5, 7, 5, 8, 6, 6, 5, 7, 5, 8, 6, 6, 5, 7],
          'low': [1, 3, 2, 1, 3, 4, 1, 3, 2, 1, 3, 4, 1, 3, 2, 1, 3, 4],
          'price': [4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7, 4, 4, 5, 2, 4, 7],
          '__LABELS__': ['t1', 't2', 't3', 't4', 't5', 't6', 't1', 't2', 't3', 't4', 't5', 't6', 't1', 't2', 't3', 't4', 't5', 't6']
        };
        
        var msft_data = {
          'open': [26.78, 26.16, 25.78, 25.46, 25.05, 24.51, 24.13, 23.30, 23.09, 23.36, 23.27, 23.70, 23.82],
          'close': [25.95, 25.77, 25.31, 25.00, 24.53, 24.31, 23.31, 23.01, 23.16, 23.27, 23.27, 23.82, 24.30],
          'high': [26.89, 26.45, 25.78, 25.72, 25.11, 24.61, 25.20, 23.68, 23.32, 23.48, 23.27, 24.09, 24.32],
          'low': [25.89, 25.76, 25.22, 24.93, 24.31, 24.12, 23.11, 22.95, 22.73, 23.05, 23.27, 23.58, 23.61],
          'volume': [54625218, 55986386, 61468282, 85252196, 156256672, 73787879, 119885791, 81057995, 92239399, 62489452, 0, 73594554, 81967278],
          '50dayavg': [26.88, 26.67, 26.60, 26.4, 25.98, 25.20, 24.76, 24.11, 23.76, 23.42, 23.11, 23.21, 23.5],
          '__LABELS__': ['Jun 21', '', '', '', '', 'Jun 28', '', '', '', '', 'Jul 5', '', '']
        };
        
        var bardata = {
          'AAPL': [100000, 200000, 300000, 400000],
          'AMZN': [200000, 500000, 400000, 400000],
          'GOOG': [300000, 500000, 100000, 150000],
          'MSFT': [500000, 100000, 400000, 350000],
          '__LABELS__': ['Q1', 'Q2', 'Q3', 'Q4']
        };
        
        var chart = new Sai.LineChart(r, 0, 350, 350, 350, data, tea, "Monthly average adjusted close", true).setColors(colors).render();
        var csp = new Sai.StockChart(r, 400, 350, 350, 350, msft_data, tea, "MSFT (NASDAQ)").render();
        var barc = new Sai.BarChart(r, 0, 750, 350, 350, bardata, tea, "Some titled bar chart", true).setColors(colors).render(true);
        var sbarc = new Sai.StackedBarChart(r, 400, 750, 350, 350, bardata, tea, "", true).setColors(colors).render(true);
        var sparkline = new Sai.Sparkline(r, 800, 100, 50, 14, {data: data.AMZN}, tea).render();
        
        var getRandomData = function (min, max, n, ints) {
          var result = [];
          for(i = 0; i < n; i++) {
            var x = Math.random() * (max-min) + min;
            if(ints) {
              x = Math.round(x);
            }
            result.push(x);
          }
          
          return result;
        }
        
        var states = [];
        for(state in Sai.data.map.us.paths) {
          states.push(state);
        }
        
        var USdata = {
          '__MAP__': Sai.data.map.us,
          '__REGION__': states, // parallel to data arrays
          '__DEFAULT__': 'Confidence',
          'Confidence': [1, 2, 3, 4, 5], // getRandomData(38.4, 38.7, states.length),
          'Unemployment': getRandomData(0, 1, states.length),
          'Dropped calls': getRandomData(50, 150, states.length, true),
          'Oatmeal Index': getRandomData(14, 31, states.length, true),
          'Math sightings': getRandomData(0, 100, states.length, true),
        }
        
        var UScolors = {
          'Confidence': orange,
          'Unemployment': lilac,
          'Dropped calls': olive,
          'Oatmeal Index': ucla,
          'Math sightings': 'green',
        }
        
        var uschart = new Sai.GeoChart(r, 800, 800, 400, 500, USdata, tea, "MAP OF US").setColors(UScolors).render();
        
      </script>
    </div>
  </body>
</html>